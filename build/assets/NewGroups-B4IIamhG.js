import{e as G,u as v,b0 as N,r as S,j as e,S as i,A as y,b1 as M,o as c,a0 as k}from"./index-MwKyM0NC.js";import{a as A}from"./index-qMaLzmVy.js";import"./SempleChats-s9j4Tkaa.js";import{U as T}from"./UserItem-BPBBCb8H.js";import{u as D,a as E}from"./hook-DI4cddH2.js";import{D as H,a as F}from"./DialogTitle-_ylyH_JZ.js";import{T as I}from"./TextField-GNfoWh2K.js";import{T as z}from"./Typography-DTs5yARX.js";import{B as m}from"./Button-6yo8lf6q.js";import"@mui/icons-material";import"./ListItem-Ca6OtDt8.js";import"./Menu-Dg8ucpFe.js";import"./isMuiElement-BpQ4W8_l.js";import"./Avatar-DQRrgh-w.js";const Z=()=>{var l;const{isNewGroup:u}=G(r=>r.misc),p=v(),o=A(),{isLoading:d,isError:h,error:x,data:s}=N(),[n,b]=S.useState([]),[g,f]=D(M);E([{isError:h,error:x}]);const j=r=>{b(a=>a.includes(r)?a.filter(C=>C!==r):[...a,r])},w=()=>{if(!o.value)return c.error("Group name is Required");if(n.length<2)return c.error("Please Select Atleast 3 Members");g("Creating New Group..",{name:o.value,members:n}),t()},t=()=>{p(k(!1))};return e.jsx(H,{open:u,onClose:t,children:e.jsxs(i,{p:{xs:"1rem",sm:"3rem"},spacing:"2rem",width:"25rem",children:[e.jsx(F,{textAlign:"center",variant:"h4",children:"New Group"}),e.jsx(I,{value:o.value,onChange:o.changeHandler,label:"Group Name"}),e.jsx(z,{variant:"body1",children:"Members"}),e.jsx(i,{children:d?e.jsx(y,{}):(l=s==null?void 0:s.Friends)==null?void 0:l.map(r=>e.jsx(T,{user:r,handler:j},r._id))}),e.jsxs(i,{direction:"row",justifyContent:"space-around",children:[e.jsx(m,{variant:"outlined",sx:{"&:hover":{backgroundColor:"red",color:"white"}},color:"error",size:"large",onClick:t,children:"Cancel"}),e.jsx(m,{variant:"outlined",sx:{"&:hover":{backgroundColor:"blue",color:"white"}},color:"primary",size:"large",onClick:w,disabled:f,children:"Create"})]})]})})};export{Z as default};
